#!/usr/bin/env sh
set -e

# Allow a one-off emergency bypass (kept undocumented for regular use)
[ -n "$HUSKY_BYPASS_PRECOMMIT" ] && {
  echo "[husky] pre-commit checks bypassed by HUSKY_BYPASS_PRECOMMIT"; exit 0;
}

npm run lint:prettier
npm run lint:eslint
npm run lint:complexity
npm run typecheck
npm test
